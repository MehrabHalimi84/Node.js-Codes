mongoose
ÛŒÙ‡ Ù¾Ú©ÛŒØ¬ Ø¨Ø±Ø§ÛŒ Ø§ØªØµØ§Ù„ 
node => mongoDB
Ú©Ù‡ Ø³Ø§Ø¯Ù‡ ØªØ±Ø´ Ù…ÛŒÚ©Ù†Ù‡ 

Ø¨Ø±Ø§ÛŒ Ú©Ø§Ù†Ú©Øª Ø´Ø¯Ù† Ø¨Ù‡ Ù…Ø§Ù†Ú¯Ùˆ 

mongoose.connect('mongodb://localhost/....)

Ùˆ Ø¨Ø±Ø§ÛŒ Ø¨Ù‡ØªØ± Ø´Ø¯Ù† Ú©Ø¯ 
   .then(() => console.log('Connected to MongoDB...'))
    .catch(err => console.error('Could not connect to MongoDB...', err));
    Ø¨Ù‡Ø´ Ø§Ø¶Ø§ÙÙ‡ Ù…ÛŒÚ©Ù†ÛŒÙ…


    schema Ú†ÛŒÙ‡

    Ø§Ø³Ú©ÛŒÙ…Ø§ ÛŒÙ‡ Ø§Ø¨Ø¬Ú©ØªÙ‡ Ú©Ù‡ Ø¨Ù‡ Ù…Ø§ Ø§ÛŒÙ† ØªÙˆØ§Ù†Ø§ÛŒÛŒ Ø±Ùˆ Ù…ÛŒØ¯Ù‡ Ú©Ù‡ Ø§Ø·Ù„Ø§Ø¹Ø§ØªÛŒ Ú©Ù‡ Ù…ÛŒØ®ÙˆØ§ÛŒÙ… ØªÙˆÛŒ Ø¯ÛŒØªØ§ Ø¨ÛŒØ³ Ø°Ø®ÛŒØ±Ù‡ Ø¨Ø´Ù† Ø±Ùˆ ØªØ§ÛŒÙ¾ Ø¨Ù†Ø¯ÛŒ Ø¨Ú©Ù†ÛŒÙ… 

    ÛŒØ¹Ù†ÛŒ Ø¨Ú¯ÛŒÙ… Ú†Ù‡ Ù†ÙˆØ¹ Ø§Ø·Ù„Ø§Ø¹Ø§ØªÛŒ Ø§ÙˆÙ† ØªÙˆ Ù‡Ø³ØªØ´

    const courseSchema = new mongoose.Schema({
    name: String,
    author: String,
    tags: [String],
    date: { type: Date, default: Date.now },
    isPublished: Boolean
});

Ø§ÛŒÙ†Ø¬ÙˆØ±ÛŒ Ù…ÛŒØ´Ù‡ Ø§Ø²Ø´ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒÙ…


Ø®Ø¨ 
Ø¨Ø±Ø§ÛŒ Ø°Ø®ÛŒØ±Ù‡ Ø­Ø°Ù Ø§Ù¾Ø¯ÛŒØª Ùˆ Ø®ÙˆØ§Ù†Ø¯Ù† Ú©Ù‡
Ù…ÛŒØ´Ù‡ Ù‡Ù…ÙˆÙ† 
CRUD
Ø§Ø² Ø¯ÛŒØªØ§ Ø¨ÛŒØ³ 
Ù†Ù…ÛŒØªÙˆÙ†ÛŒÙ… Ø¨Ù‡ ØªÙ†Ù‡Ø§ Ø§Ø² Ø§Ø³Ú©ÛŒÙ…Ø§ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒÙ… Ø¨Ø§ÛŒØ¯ Ù…Ø¯Ù„ Ú©Ù†ÛŒÙ… Ù‡Ù…ÙˆÙ† Ø§Ø¨Ø¬Ú©Øª Ø±Ùˆ Ø¨Ø¹Ø¯ Ø¯ÛŒÚ¯Ù‡ Ù…ÛŒØ´Ù‡ Ø®ÛŒÙ„ÛŒ Ú©Ø§Ø±Ø§ Ú©Ø±Ø¯ Ø¨Ø§Ù‡Ø§Ø´

const Course = mongoose.model('Course', courseSchema);
Ø§ÛŒÙ† Ø®Ø· Ø§ÙˆÙ„ Ø¨Ù‡ ØµÙˆØ±Øª ÛŒÙ‡ Ú©Ù„Ø§Ø³ Ø§ÙˆÙ† Ø±Ùˆ Ù…Ø¯Ù„ Ù…ÛŒÚ©Ù†Ù‡ 
Ø¨Ø¹Ø¯ 


const course = new Course({
    name: 'Node.js Course',
    author: 'Mehrab',
    tags: ['node', 'backed'],
    isPublished: true
});

ÛŒÙ‡ Ø§Ø¨Ø¬Ú©Øª Ø¬Ø¯ÛŒØ¯ Ø¯Ø±Ø±Ø³Øª Ù…ÛŒÚ©Ù†Ù‡ 
Ùˆ Ø¨Ø¹Ø¯ Ø¯ÛŒÚ¯Ù‡ Ù…ÛŒØ´Ù‡ Ø§ÛŒÙ†Ùˆ Ù‡Ø± Ú©Ø§Ø±ÛŒ Ú©Ø±Ø¯ 
CRUD


Ø­Ø§Ù„Ø§ Ø§Ú¯Ù‡ Ø¨Ø®ÙˆØ§ÛŒÙ… Ø¯ÛŒØªØ§ Ø³ÛŒÙˆ Ú©Ù†ÛŒÙ… Ø¨Ø§ÛŒØ¯ Ø§Ø² Ù…ØªØ¯ 
save()
Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒÙ…

const result = await course.save();
Ùˆ Ù…ÛŒØ²Ø§Ø±ÛŒÙ…Ø´ ØªÙˆÛŒ ÛŒÙ‡ ÙØ§Ù†Ú©Ø´Ù†Ù‡ 
async 
Ú†ÙˆÙ† Ù†ÛŒØ§Ø²Ù‡ Ú©Ù‡ Ù…ÙˆØ§Ø²ÛŒ Ø§ÛŒÙ† Ú©Ø¯ Ø®ÙˆÙ†Ø¯Ù‡ Ø¨Ø´Ù‡

Ø¬Ø§Ù„Ø¨ Ø§ÛŒÙ†Ù‡ Ø§Ú¯Ù‡ Ø§ÙˆÙ† Ú©Ø¯ Ø±Ùˆ Ú©Ù‡ ØªÙˆÛŒ 
index.js Ù‡Ø³Øª Ú©Ù‡ 
ÛŒÙ‡ Ú©ÙˆØ±Ø³ Ø¬Ø¯ÛŒØ¯ Ø¯Ø±Ø³Øª Ú©Ø±Ø¯ÛŒÙ… Ø±Ùˆ Ú©Ø§Ù…Ù†Øª Ú©Ù†ÛŒÙ… Ùˆ ÛŒÙ‡ Ø¯ÙˆÙ†Ù‡ Ø­Ø¯ÛŒØ¯ Ø¨Ø²Ù†ÛŒÙ… Ùˆ Ø¨Ø±ÛŒÙ… Ø¨Ø¨ÛŒÙ†ÛŒÙ… ØªÙˆÛŒ Ø¯ÛŒØªØ§ Ø¨ÛŒØ³ Ø§ÙˆÙ† Ù‚Ø¨Ù„ÛŒ Ù¾Ø§Ú© Ù†Ø´Ø¯Ù‡ Ùˆ Ù‡Ù†ÙˆØ² Ù‡Ø³Øª





quering in mongoDB


.find(filter)                    	Ù‡Ù…Ù‡ Ø³Ù†Ø¯Ù‡Ø§ÛŒÛŒ Ú©Ù‡ Ø¨Ø§ Ø´Ø±Ø· match Ù…ÛŒâ€ŒØ´Ù†

.findOne(filter)                 	ÙÙ‚Ø· Ø§ÙˆÙ„ÛŒÙ† Ø³Ù†Ø¯ Ú©Ù‡ Ø¨Ø§ Ø´Ø±Ø· match Ù…ÛŒâ€ŒØ´Ù‡

.findById(id)            	        Ø³Ù†Ø¯ÛŒ Ø¨Ø§ id Ø®Ø§Øµ

.sort({ field: 1 or -1 })   	    Ù…Ø±ØªØ¨â€ŒØ³Ø§Ø²ÛŒ

.limit(n)	                        Ù…Ø­Ø¯ÙˆØ¯ Ú©Ø±Ø¯Ù† ØªØ¹Ø¯Ø§Ø¯ Ù†ØªØ§ÛŒØ¬

.skip(n)	                        Ù¾Ø±Ø´ Ø§Ø² Ø§ÙˆÙ„ÛŒÙ† n ØªØ§ (Ù…ÙÛŒØ¯ Ø¨Ø±Ø§ÛŒ pagination)

.select({ field: 1 })            	ÙÙ‚Ø· ÙÛŒÙ„Ø¯Ù‡Ø§ÛŒ Ø®Ø§Øµ Ø±Ùˆ Ø¨Ø±Ú¯Ø±Ø¯ÙˆÙ†

.countDocuments(filter)     	    ØªØ¹Ø¯Ø§Ø¯ Ù†ØªØ§ÛŒØ¬ Ù…Ø·Ø§Ø¨Ù‚ Ø´Ø±Ø·

.or([{condition1}, {condition2}])	Ø´Ø±Ø· OR

.and([{cond1}, {cond2}])	        Ø´Ø±Ø· AND

.exists('field', true/false)	    Ø¨Ø±Ø±Ø³ÛŒ ÙˆØ¬ÙˆØ¯ ÙÛŒÙ„Ø¯

.where('field').gte(10).lte(20)   	ÙÛŒÙ„ØªØ± Ø¨Ø§ Ø¹Ù…Ù„Ú¯Ø±Ù‡Ø§ÛŒ Ù…Ù‚Ø§ÛŒØ³Ù‡â€ŒØ§ÛŒ



more fillter


async function getCourses() {
    // eq (equal)
    // ne (not equal)
    // gt (greater than)
    // gte(greater than or equal to)
    // lt (less than)
    // lte(less than or equal to)
    // in
    // nin(not in )


    const courses = await Course
        // .find({ price: { $gt: 10 } })
        // .find({ price: { $gte: 10, lte: 20 } })
        .find({ price: { $in: [10, 20, 30, 50] } })
        .limit(10)
        .sort({ name: 1 })
        .select({ name: 1, tags: 1 });
    console.log(courses);
}

Ø®Ø¨ Ù…Ø§ Ù…Ø«Ø§Ù„ Ù…ÛŒØ²Ù†ÛŒÙ… Ú©Ù‡ Ø§Ú¯Ù‡ ØªÙˆÛŒ Ø¯Ø§Ú©ÛŒÙˆÙ…Ù†ØªÛŒ Ú©Ù‡ Ù…Ø§ Ø¯Ø±Ø³Øª Ú©Ø±Ø¯ÛŒÙ… Ùˆ Ú¯Ø°Ø§Ø´ØªÛŒÙ…Ø´ ØªÙˆÛŒ Ø¯ÛŒØªØ§ Ø¨ÛŒØ³ Ù†ÛŒØ§Ø² Ø¯Ø§Ø´Øª Ø¨Ù‡ Ú¯Ø±ÙØªÙ‡ Ø´Ø¯Ù† Ùˆ Ù†ÛŒØ§Ø² Ø¨Ù‡ Ø§ÛŒÙ† Ø¨ÙˆØ¯ Ø§ÙˆÙ†Ùˆ ÙÛŒÙ„ØªØ± Ú©Ù†ÛŒÙ… 
Ù…ÛŒØ´Ù‡ Ø§Ø² Ø§ÛŒÙ† ÙÛŒÙ„ØªØ± Ù‡Ø§ÛŒ Ø¨Ø§Ù„Ø§ Ú©Ù…Ú© Ø¨Ú¯ÛŒØ±ÛŒÙ…

Ú©Ù‡ Ù…ÛŒØ´Ù‡ Ø§Ø² Ú©ÙˆÙ…Ù¾Ø±ÛŒØ³ÙˆÙ† Ù‡Ø§ Ú©Ù…Ú© Ú¯Ø±ÙØª 
Ú©Ù‡ Ù‡Ù…Ø´ÙˆÙ†Ùˆ Ø¨Ø§Ù„Ø§ Ú©Ø§Ù…Ù†Øª Ú©Ø±Ø¯ÛŒÙ…



logical operator fillters

and 

or


async function getCourses() {
    const courses = await Course
        .find()
        .and([{ author: "Mehrab" }, { isPublished: true }])
        .or()
        .limit(10)
        .sort({ name: 1 })
        .select({ name: 1, tags: 1 });
    console.log(courses);
}

Ø³Ø§Ø®ØªØ§Ø±Ø´ÙˆÙ† Ø§ÛŒÙ†Ø¬ÙˆØ±ÛŒÙ‡

.and([ {} , {} , {} , ...]);

ÛŒØ¹Ù†ÛŒ ÛŒÙ‡ Ø§Ø±Ø§ÛŒÙ‡ Ú©Ù‡ Ø¯Ø§Ø®Ù„ Ø¨Ø±Ø§ÛŒ Ø´Ø±Ø· Ù‡Ø§ ÛŒÙ‡ Ø§Ø¨Ø¬Ú©Øª Ø¨Ø²Ø§Ø±ÛŒÙ…

.find({ author: 'Mehrab', isPublished: true })
Ø®ÙˆØ¯Ù‡ Ø§ÛŒÙ† Ø¨Ù‡ ØªÙ†Ù‡Ø§ÛŒÛŒ Ø­Ú©Ù… ÛŒÙ‡ and Ø±Ùˆ Ø¯Ø§Ø±Ù‡

ÙˆÙ„ÛŒ Ø¨Ù‡ØªØ±Ù‡ Ù‡Ù…ÙˆÙ† Ø§Ø² and 
Ø¢Ø³ØªÙØ§Ø¯Ù‡ Ø¨Ø´Ù‡
Ùˆ ÙˆÙ‚ØªÛŒÙ… Ú©Ù‡ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…Ú©Ù†ÛŒÙ… Ø¨Ø§ÛŒØ¯ Ø¯ÛŒÚ¯Ù‡ Ø¯Ø§Ø®Ù„ Ù¾Ø±Ø§Ù†ØªØ² ÙØ§ÛŒÙ†Ø¯ Ø®Ø§Ù„ÛŒ Ø¨Ø§Ø´Ù‡

Regular Expressions

ÙÛŒÙ„ØªØ± Ø¨Ù†Ø¯ÛŒ Ø§Ø² Ø±Ø´ØªÙ‡ Ù‡Ø§ 


async function getCourses() {
    const courses = await Course
        // Starts with Mehrab
        .find({ author: /^Mehrab/ })
        // Ends with Halimi
        .find({ author: /Halimi$/i })
        // Contains Mosh
        .find({ author: /.*mehrab.*/i })
        .limit(10)
        .sort({ name: 1 })
        .select({ name: 1, tags: 1 });
    console.log(courses);
}

.find({ author: /^Mehrab/ })  
Ø§ÙˆÙ† ÙÛŒÙ„Ø¯ÛŒ Ú©Ù‡ Ø±Ø´ØªÙ‡ Ø§Ø´ Ø¨Ø§ Ù…Ù‡Ø±Ø§Ø¨ Ø´Ø±ÙˆØ¹ Ø´Ù‡ 

.find({ author: /Halimi$/i })
Ø§ÙˆÙ† ÙÛŒÙ„Ø¯ÛŒ Ú©Ù‡ Ø±Ø´ØªÙ‡ Ø§Ø´ Ø¨Ø§ Ø­Ù„ÛŒÙ…ÛŒ ØªÙ…ÙˆÙ… Ø´Ù‡

.find({ author: /.*mehrab.*/i })
Ø§ÙˆÙ† ÙÛŒÙ„Ø¯ÛŒ Ú©Ù‡ Ø±Ø´ØªÙ‡ Ø§Ø´ Ø¨Ù‡ Ù†Ø§Ù… Ù…Ù‡Ø±Ø§Ø¨ Ù‡Ø± Ú©Ø§Ø±ÛŒ Ø§Ø² Ø±Ø´ØªÙ‡ Ø¨Ø§Ø´Ù‡ (ÙÙ‚Ø· Ø¨Ø§Ø´Ù‡)

i Ù‡Ù… Ø­Ø³Ø§Ø³Øª Ø¨Ù‡ Ø¢Ù¾Ø±Ú©ÛŒØ³ Ø¨ÙˆØ¯Ù† ÛŒØ§ Ù†Ø¨ÙˆØ¯Ù†Ù‡ 
Ú©Ù‡ Ø¨Ø²Ø§Ø±ÛŒØ´ Ù…ÛŒØ´Ù‡ Ø­Ø³Ø§Ø³ Ù†Ø¨Ø§Ø´

Ø¯ÛŒÙØ§Ù„Øª Ø­Ø³Ø§Ø³ Ù‡Ø³ØªØ´ Ù¾Ø³

counting ducoument 

Ø¨Ù‡ Ø¬Ø§ÛŒ Ù…ØªÙˆØ¯ Ø³Ù„Ú©Øª Ù…ÛŒØ§ÛŒÙ… Ù…ØªÙˆØ¯ 
count()
Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒÚ©Ù†ÛŒÙ… Ú©Ù‡ Ø¨Ù‡Ù…ÙˆÙ† Ù†Ù‡ Ø§ÙˆÙ† Ø¯Ø§Ú©ÛŒÙˆÙ…Ù†Ø¯ Ù‡Ø§Ø±Ùˆ Ø¨Ø¯Ù‡ 
Ø¨Ù‡Ù…ÙˆÙ† ØªØ¹Ø¯Ø§Ø¯ Ø§ÙˆÙ† Ø¯Ø§Ú©ÛŒÙˆÙ…Ù†ØªÛŒ Ù‡Ø§ÛŒÛŒ Ú©Ù‡ Ø¨Ø§ ÙÛŒÙ„ØªØ± Ù…ÛŒØ®ÙˆÙ†Ù† Ø±Ùˆ Ø¨Ø¯Ù‡ 


async function getCourses() {
    const courses = await Course
        .find()
        .and([{ author: "Mehrab" }, { isPublished: true }])
        .or()
        .limit(10)
        .sort({ name: 1 })
        .count()                  // result => 2
    console.log(courses);
}


// Pagination


async function getCourses() {
    const pageNumber = 2;
    const pageSize = 10;

    const courses = await Course
        .find({ author: 'Mehrab', isPublished: true })
        .skip((pageNumber - 1) * pageSize)                 ====> ÙØ±Ù…ÙˆÙ„
        .limit(pageSize)
        .sort({ name: 1 })
        .select({ name: 1, tags: 1 });
    console.log(courses);
}

Ù…ØªÙˆØ¯ Ø§Ø³Ú©ÛŒÙ¾ Ø§ÛŒÙ†Ø¬Ø§ Ù†Ù‚Ø´ Ù…Ø­Ø¯ÙˆØ¯ Ú©Ù†Ù†Ø¯Ù‡ Ø±ÛŒØ³Ù¾Ø§Ù†Ø³ÛŒÙˆ Ø±Ùˆ Ø¯Ø§Ø±Ù‡ Ú©Ù‡ Ù…ÛŒÚ¯Ù‡

Ù…Ù† ØµÙØ­Ù‡ Ø§ÙˆÙ„ ÛŒÙ‡ Ù…Ù‚Ø¯Ø§Ø± Ù…ÛŒØ®ÙˆØ§Ù… Ø¯ÛŒØªØ§ Ø¨Ø²Ø²Ø§Ø±Ù… Ø¨Ù‡ Ù†Ù…Ø§ÛŒØ´ 
Ø¨Ù‚ÛŒÙ‡ ØªÙ‚Ø³ÛŒÙ… Ø¨Ø´Ù† Ø¨Ù‡ ØµÙØ­Ù‡ Ù‡Ø§ÛŒ Ø¯ÛŒÚ¯Ù‡ 

Ø­Ø§Ù„Ø§ Ø¨Ø§ ÛŒÙ‡ ÙØ±Ù…ÙˆÙ„ Ø³Ø§Ø¯Ù‡ Ø§ÛŒÙ† Ú©Ø§Ø± Ø±Ùˆ Ø§Ù†Ø¬Ø§Ù… Ù…ÛŒØ¯ÛŒÙ… 



Ù†Ú©ØªÙ‡ 
Ø¨Ø±Ø§ÛŒ Ø§Ø³Ù†ÙØ§Ø¯Ù‡ Ø§Ø² 
and & or Ø¨Ø§ Ù‡Ù… Ø¯Ø§Ø®Ù„Ù‡ ÙØ§ÛŒÙ†Ø¯

Ø¨Ø§ÛŒØ¯ Ø§ÛŒÙ†Ø¬ÙˆØ±ÛŒ Ú©Ø¯ Ø²Ø¯
 .find({
    $and: [{ inStock: true },{ price: { $gt: 30 } },{ discount: { $gte: 1 } },{$or: [{ tags: 'kitchen' },{ tags: 'gaming' }]}]})


update ducoument



// Updating Ducoument (Query First)

âœ… ÙˆÛŒÚ˜Ú¯ÛŒâ€ŒÙ‡Ø§:
Ø¯Ø§Ú©ÛŒÙˆÙ…Ù†Øª Ø±Ùˆ Ú©Ø§Ù…Ù„ Ø§Ø² Ø¯ÛŒØªØ§Ø¨ÛŒØ³ Ù…ÛŒØ§Ø±Ù‡

ØªØºÛŒÛŒØ±Ø§Øª Ø±Ùˆ Ù…Ø³ØªÙ‚ÛŒÙ… Ø±ÙˆÛŒ Ø´ÛŒØ¡ course Ø§Ù†Ø¬Ø§Ù… Ù…ÛŒâ€ŒØ¯ÛŒ

Ø¨Ø¹Ø¯Ø´ Ø¨Ø§ .save() Ø§ÙˆÙ† ØªØºÛŒÛŒØ±Ø§Øª Ø±Ùˆ Ø°Ø®ÛŒØ±Ù‡ Ù…ÛŒâ€ŒÚ©Ù†ÛŒ

âœ… Ù…Ø²Ø§ÛŒØ§:
ÙˆÙ„ÛŒØ¯ÛŒØ´Ù†â€ŒÙ‡Ø§ Ùˆ middlewareÙ‡Ø§ Ø§Ø¬Ø±Ø§ Ù…ÛŒâ€ŒØ´Ù†

Ú©Ù†ØªØ±Ù„ Ø¨ÛŒØ´ØªØ±ÛŒ Ø¯Ø§Ø±ÛŒ (Ù…Ø«Ù„Ø§Ù‹ Ù…ÛŒâ€ŒØªÙˆÙ†ÛŒ Ù‚Ø¨Ù„ Ø§Ø² Ø°Ø®ÛŒØ±Ù‡ØŒ Ø´Ø±Ø·ÛŒ Ø¨Ø²Ø§Ø±ÛŒ ÛŒØ§ Ù…Ù†Ø·Ù‚ÛŒ Ù¾ÛŒØ§Ø¯Ù‡â€ŒØ³Ø§Ø²ÛŒ Ú©Ù†ÛŒ)

Ù…Ù†Ø§Ø³Ø¨ Ø¨Ø±Ø§ÛŒ ÙˆÙ‚ØªÛŒ Ú©Ù‡ Ø¢Ù¾Ø¯ÛŒØª ÙˆØ§Ø¨Ø³ØªÙ‡ Ø¨Ù‡ ÙˆØ¶Ø¹ÛŒØª ÙØ¹Ù„ÛŒ Ø¯Ø§Ú©ÛŒÙˆÙ…Ù†Øª Ù‡Ø³Øª

âŒ Ù…Ø¹Ø§ÛŒØ¨:
Ø¯Ùˆ Ù…Ø±Ø­Ù„Ù‡â€ŒØ§ÛŒÙ‡: Ø§ÙˆÙ„ find, Ø¨Ø¹Ø¯ save â†’ Ù¾Ø³ Ú©Ù†Ø¯ØªØ±

Ú©Ø¯ Ø·ÙˆÙ„Ø§Ù†ÛŒâ€ŒØªØ±Ù‡




    // Updating Ducoument (Update First)

ÙˆÛŒÚ˜Ú¯ÛŒâ€ŒÙ‡Ø§:
Ù…Ø³ØªÙ‚ÛŒÙ…Ø§Ù‹ Ø¯Ø± ÛŒÚ© Ø®Ø·ØŒ Ø¯Ø§Ú©ÛŒÙˆÙ…Ù†Øª Ø±Ùˆ Ù¾ÛŒØ¯Ø§ Ù…ÛŒâ€ŒÚ©Ù†Ù‡ Ùˆ Ø¢Ù¾Ø¯ÛŒØª Ù…ÛŒâ€ŒÚ©Ù†Ù‡

Ø³Ø±ÛŒØ¹â€ŒØªØ±Ù‡ØŒ Ú†ÙˆÙ† Ù†ÛŒØ§Ø² Ø¨Ù‡ Ø¨Ø§Ø±Ú¯ÛŒØ±ÛŒ Ú©Ø§Ù…Ù„ Ø¯Ø§Ú©ÛŒÙˆÙ…Ù†Øª Ù†Ø¯Ø§Ø±Ù‡

Ú¯Ø²ÛŒÙ†Ù‡ new: true Ø¨Ø§Ø¹Ø« Ù…ÛŒØ´Ù‡ Ù†Ø³Ø®Ù‡ Ø¨Ù‡â€ŒØ±ÙˆØ² Ø´Ø¯Ù‡â€ŒÛŒ Ø¯Ø§Ú©ÛŒÙˆÙ…Ù†Øª Ø¨Ø±Ú¯Ø±Ø¯Ù‡ (Ø§Ú¯Ù‡ Ù†Ø°Ø§Ø±ÛŒØŒ Ù†Ø³Ø®Ù‡ Ù‚Ø¨Ù„Ø´ Ø±Ùˆ Ø¨Ø±Ù…ÛŒâ€ŒÚ¯Ø±Ø¯ÙˆÙ†Ù‡)

âœ… Ù…Ø²Ø§ÛŒØ§:
Ø³Ø±ÛŒØ¹â€ŒØªØ± (Ú†ÙˆÙ† ÙÙ‚Ø· ÛŒÚ© Ø¹Ù…Ù„ÛŒØ§Øª Ø¯Ø± Ø¯ÛŒØªØ§Ø¨ÛŒØ³ Ø§Ù†Ø¬Ø§Ù… Ù…ÛŒâ€ŒØ´Ù‡)

Ú©Ø¯ Ú©ÙˆØªØ§Ù‡â€ŒØªØ± Ùˆ Ø³Ø§Ø¯Ù‡â€ŒØªØ±Ù‡

âŒ Ù…Ø¹Ø§ÛŒØ¨:
ÙˆÙ„ÛŒØ¯ÛŒØ´Ù†â€ŒÙ‡Ø§ Ùˆ MiddlewareÙ‡Ø§ÛŒ Mongoose Ø±ÙˆÛŒ Ø¯Ø§Ú©ÛŒÙˆÙ…Ù†Øª Ø§Ø¬Ø±Ø§ Ù†Ù…ÛŒâ€ŒØ´Ù† (Ù…Ø«Ù„ pre('save'), custom validation)

Ø§Ú¯Ù‡ Ø¨Ø®ÙˆØ§ÛŒ Ù‚Ø¨Ù„ ÛŒØ§ Ø¨Ø¹Ø¯ Ø§Ø² ØªØºÛŒÛŒØ± ÛŒÙ‡ Ù„Ø§Ú¯ ÛŒØ§ Ù¾Ø±Ø¯Ø§Ø²Ø´ Ø¨Ø²Ù†ÛŒØŒ Ø³Ø®Øªâ€ŒØªØ±Ù‡


âœ… Ø¬Ù…Ø¹â€ŒØ¨Ù†Ø¯ÛŒ: Ú©ÙÛŒ Ø§Ø² Ú©Ø¯ÙˆÙ… Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒÙ…ØŸ
Ø§Ø² findByIdAndUpdate() Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†:
ÙˆÙ‚ØªÛŒ Ø¢Ù¾Ø¯ÛŒØª Ø³Ø§Ø¯Ù‡ Ø§Ø³Øª

Ù†ÛŒØ§Ø² Ø¨Ù‡ middleware ÛŒØ§ custom validation Ù†Ø¯Ø§Ø±ÛŒ

Ù…ÛŒâ€ŒØ®ÙˆØ§ÛŒ Ø³Ø±ÛŒØ¹ Ùˆ Ú©ÙˆØªØ§Ù‡ Ø¨Ù†ÙˆÛŒØ³ÛŒ

Ø§Ø² findById() + save() Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†:
ÙˆÙ‚ØªÛŒ Ù…ÛŒâ€ŒØ®ÙˆØ§ÛŒ ÙˆØ¶Ø¹ÛŒØª ÙØ¹Ù„ÛŒ Ø±Ùˆ Ø¨Ø®ÙˆÙ†ÛŒØŒ Ø¨Ø±Ø±Ø³ÛŒ Ú©Ù†ÛŒØŒ Ø¨Ø¹Ø¯ Ø¢Ù¾Ø¯ÛŒØª Ú©Ù†ÛŒ

ÛŒØ§ ÙˆÙ‚ØªÛŒ Ø§Ø² Middleware/Validation Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒâ€ŒÚ©Ù†ÛŒ (Ù…Ø«Ù„Ø§Ù‹ Ø¨Ø±Ø§ÛŒ Ø±Ù…Ø²Ù†Ú¯Ø§Ø±ÛŒØŒ ØªØ§ÛŒÛŒØ¯ÛŒÙ‡ØŒ ØªØºÛŒÛŒØ± Ø²Ù…Ø§Ù† Ø¢Ù¾Ø¯ÛŒØªØŒ Ùˆ ØºÛŒØ±Ù‡)


update methods

ðŸ§© Ø¯Ø³ØªÙ‡â€ŒØ¨Ù†Ø¯ÛŒ Ú©Ù„ÛŒ Ù…ØªØ¯Ù‡Ø§ÛŒ Ø¢Ù¾Ø¯ÛŒØª Ø¯Ø± Mongoose
âœ… 1. Ù…ØªØ¯Ù‡Ø§ÛŒ Ù…Ø³ØªÙ‚ÛŒÙ… Ùˆ Ø³Ø±ÛŒØ¹ (Direct Update)
Ø§ÛŒÙ†Ø§ Ù…Ø¹Ù…ÙˆÙ„Ø§Ù‹ Ø¨Ø§ ÛŒÚ© Ø®Ø·ØŒ Ø¯Ø§Ú©ÛŒÙˆÙ…Ù†Øª Ø±Ùˆ Ù¾ÛŒØ¯Ø§ Ùˆ Ø¢Ù¾Ø¯ÛŒØª Ù…ÛŒâ€ŒÚ©Ù†Ù†. Ø³Ø±ÛŒØ¹ Ù‡Ø³ØªÙ† ÙˆÙ„ÛŒ Ø§Ø¹ØªØ¨Ø§Ø±Ø³Ù†Ø¬ÛŒ Ùˆ middleware Ø§Ø¬Ø±Ø§ Ù†Ù…ÛŒâ€ŒØ´Ù‡.

âœ” Model.updateOne(filter, updateObj[, options])
ÙÙ‚Ø· ÛŒÚ© Ø¯Ø§Ú©ÛŒÙˆÙ…Ù†Øª Ø±Ùˆ Ú©Ù‡ Ø¨Ù‡ Ø´Ø±Ø· Ù…ÛŒâ€ŒØ®ÙˆØ±Ù‡ Ø¢Ù¾Ø¯ÛŒØª Ù…ÛŒâ€ŒÚ©Ù†Ù‡.

Ø¨Ø±Ù†Ù…ÛŒâ€ŒÚ¯Ø±Ø¯ÙˆÙ†Ù‡ Ú©Ù‡ Ú†ÛŒ Ø¢Ù¾Ø¯ÛŒØª Ø´Ø¯Ù‡ (Ù…Ú¯Ø± Ø¨Ø§ option).

âœ” Model.updateMany(filter, updateObj[, options])
ØªÙ…Ø§Ù… Ø¯Ø§Ú©ÛŒÙˆÙ…Ù†Øªâ€ŒÙ‡Ø§ÛŒÛŒ Ú©Ù‡ Ø¨Ù‡ Ø´Ø±Ø· Ù…ÛŒâ€ŒØ®ÙˆØ±Ù† Ø±Ùˆ Ø¢Ù¾Ø¯ÛŒØª Ù…ÛŒâ€ŒÚ©Ù†Ù‡.

Ø¨Ø±Ø§ÛŒ Ø¢Ù¾Ø¯ÛŒØª Ø§Ù†Ø¨ÙˆÙ‡ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒâ€ŒØ´Ù‡.

âœ” Model.findByIdAndUpdate(id, updateObj[, options])
Ø¨Ø± Ø§Ø³Ø§Ø³ id Ø¯Ø§Ú©ÛŒÙˆÙ…Ù†Øª Ø±Ùˆ Ù¾ÛŒØ¯Ø§ Ùˆ Ø¢Ù¾Ø¯ÛŒØª Ù…ÛŒâ€ŒÚ©Ù†Ù‡.

Ø§Ú¯Ù‡ { new: true } Ø¨Ø²Ø§Ø±ÛŒØŒ Ù†Ø³Ø®Ù‡ Ø¬Ø¯ÛŒØ¯ Ø±Ùˆ Ø¨Ø±Ù…ÛŒâ€ŒÚ¯Ø±Ø¯ÙˆÙ†Ù‡.

âœ” Model.findOneAndUpdate(filter, updateObj[, options])
Ù…Ø´Ø§Ø¨Ù‡ Ø¨Ø§Ù„Ø§ ÙˆÙ„ÛŒ Ø¨Ø§ Ø´Ø±Ø· filter Ø¨Ù‡â€ŒØ¬Ø§ÛŒ id.

ÙÙ‚Ø· Ø§ÙˆÙ„ÛŒÙ† Ø¯Ø§Ú©ÛŒÙˆÙ…Ù†Øª Ù…Ø·Ø§Ø¨Ù‚ Ø´Ø±Ø· Ø±Ùˆ Ø¢Ù¾Ø¯ÛŒØª Ù…ÛŒâ€ŒÚ©Ù†Ù‡.

âœ… 2. Ø±ÙˆØ´ Ø¯Ø§Ú©ÛŒÙˆÙ…Ù†Øª Ù…Ø­ÙˆØ± (Document-Based Update)
Ø§ÛŒÙ†Ø§ Ø¨Ø¹Ø¯ Ø§Ø² Ø¯Ø±ÛŒØ§ÙØª Ø¯Ø§Ú©ÛŒÙˆÙ…Ù†Øª Ø¨Ø§ find() ÛŒØ§ findById() Ø§Ù†Ø¬Ø§Ù… Ù…ÛŒâ€ŒØ´Ù†. Ú©ÙÙ†Ø¯ØªØ±Ù† ÙˆÙ„ÛŒ Ø¯Ù‚ÛŒÙ‚â€ŒØªØ± Ùˆ Ø§Ù…Ù†â€ŒØªØ±.

âœ” doc.save()
ÙˆÙ‚ØªÛŒ Ø¯Ø§Ú©ÛŒÙˆÙ…Ù†Øª Ø±Ùˆ Ø¨Ø§ find() Ù…ÛŒâ€ŒÚ¯ÛŒØ±ÛŒ Ùˆ Ù…Ø³ØªÙ‚ÛŒÙ… ÙÛŒÙ„Ø¯Ù‡Ø§ Ø±Ùˆ Ø¹ÙˆØ¶ Ù…ÛŒâ€ŒÚ©Ù†ÛŒ Ùˆ Ø¨Ø§ save() Ø°Ø®ÛŒØ±Ù‡ Ù…ÛŒâ€ŒÚ©Ù†ÛŒ.

ØªÙ…Ø§Ù… Ø§Ø¹ØªØ¨Ø§Ø±Ø³Ù†Ø¬ÛŒâ€ŒÙ‡Ø§ Ùˆ middlewareÙ‡Ø§ Ø§Ø¬Ø±Ø§ Ù…ÛŒâ€ŒØ´Ù†.

âœ” doc.set(updateObj)
ÙÙ‚Ø· ÙÛŒÙ„Ø¯Ù‡Ø§ÛŒ Ø®Ø§ØµÛŒ Ø±Ùˆ ØªÙ†Ø¸ÛŒÙ… Ù…ÛŒâ€ŒÚ©Ù†Ù‡ Ù‚Ø¨Ù„ Ø§Ø² save() Ú©Ø±Ø¯Ù†.

âœ… 3. Ù…ØªØ¯Ù‡Ø§ÛŒ Bulk Ùˆ Ø®Ø§Øµ (Ú©Ù…ØªØ± Ø§Ø³ØªÙØ§Ø¯Ù‡â€ŒØ´Ø¯Ù‡ ÙˆÙ„ÛŒ Ù‚Ø¯Ø±ØªÙ…Ù†Ø¯)
âœ” Model.bulkWrite(operationsArray)
Ø¨Ø±Ø§ÛŒ Ø§Ø¬Ø±Ø§ÛŒ Ú†Ù†Ø¯ Ø¢Ù¾Ø¯ÛŒØª/Ø§ÛŒÙ†Ø²Ø±Øª/Ø­Ø°Ù Ù¾Ø´Øª Ø³Ø± Ù‡Ù… (Ù…Ø«Ù„Ø§Ù‹ Ø¯Ø± ÛŒÚ© Ø­Ù„Ù‚Ù‡).



Delete Docoument


1. Ù…ØªØ¯Ù‡Ø§ÛŒ Ø³Ø±ÛŒØ¹ Ùˆ Ù…Ø³ØªÙ‚ÛŒÙ… (Direct Delete Methods)
Ø¨Ø±Ø§ÛŒ Ø­Ø°Ù Ù…Ø³ØªÙ‚ÛŒÙ… Ø§Ø² Ø¯ÛŒØªØ§Ø¨ÛŒØ³ Ø¨Ø± Ø§Ø³Ø§Ø³ Ø´Ø±Ø·

âœ” Model.deleteOne(filter)
Ø§ÙˆÙ„ÛŒÙ† Ø¯Ø§Ú©ÛŒÙˆÙ…Ù†ØªÛŒ Ú©Ù‡ Ø¨Ù‡ Ø´Ø±Ø· Ù…ÛŒâ€ŒØ®ÙˆØ±Ù‡ Ø±Ùˆ Ø­Ø°Ù Ù…ÛŒâ€ŒÚ©Ù†Ù‡.

Ø®Ø±ÙˆØ¬ÛŒ Ø´Ø§Ù…Ù„ ØªØ¹Ø¯Ø§Ø¯ Ø¯Ø§Ú©ÛŒÙˆÙ…Ù†Øª Ø­Ø°Ùâ€ŒØ´Ø¯Ù‡ Ø§Ø³Øª.


await Product.deleteOne({ _id: 'id1' });
âœ” Model.deleteMany(filter)
ØªÙ…Ø§Ù… Ø¯Ø§Ú©ÛŒÙˆÙ…Ù†Øªâ€ŒÙ‡Ø§ÛŒÛŒ Ú©Ù‡ Ø´Ø±Ø· Ø±Ùˆ Ø¯Ø§Ø±Ù†ØŒ Ø­Ø°Ù Ù…ÛŒâ€ŒÚ©Ù†Ù‡.

Ø³Ø±ÛŒØ¹ Ùˆ Ù…Ù†Ø§Ø³Ø¨ Ø­Ø°Ù Ø¯Ø³ØªÙ‡â€ŒØ¬Ù…Ø¹ÛŒ.


await Product.deleteMany({ category: 'old' });
âœ… 2. Ù…ØªØ¯Ù‡Ø§ÛŒ Ù‡Ù…Ø±Ø§Ù‡ Ø¨Ø§ Ø¨Ø§Ø²Ú¯Ø±Ø¯Ø§Ù†Ø¯Ù† Ø¯Ø§Ú©ÛŒÙˆÙ…Ù†Øª (Find & Delete)
Ù‚Ø¨Ù„ Ø§Ø² Ø­Ø°ÙØŒ Ø¯Ø§Ú©ÛŒÙˆÙ…Ù†Øª Ø±Ùˆ Ù¾ÛŒØ¯Ø§ Ù…ÛŒâ€ŒÚ©Ù†Ù† Ùˆ Ø¨Ø¹Ø¯ Ø­Ø°Ù Ù…ÛŒâ€ŒÚ©Ù†Ù†.

âœ” Model.findByIdAndDelete(id)
Ø¯Ø§Ú©ÛŒÙˆÙ…Ù†Øª Ø±Ùˆ Ø¨Ø§ id Ù¾ÛŒØ¯Ø§ Ù…ÛŒâ€ŒÚ©Ù†Ù‡ Ùˆ Ø­Ø°Ù Ù…ÛŒâ€ŒÚ©Ù†Ù‡.

Ø®Ø±ÙˆØ¬ÛŒ: Ø¯Ø§Ú©ÛŒÙˆÙ…Ù†Øª Ø­Ø°Ùâ€ŒØ´Ø¯Ù‡ Ø±Ùˆ Ø¨Ø±Ù…ÛŒâ€ŒÚ¯Ø±Ø¯ÙˆÙ†Ù‡.


const deleted = await Product.findByIdAndDelete('id1');
console.log(deleted);
âœ” Model.findOneAndDelete(filter)
Ù…Ø´Ø§Ø¨Ù‡ Ø¨Ø§Ù„Ø§Ø³Øª ÙˆÙ„ÛŒ Ø¨Ø± Ø§Ø³Ø§Ø³ ÛŒÚ© Ø´Ø±Ø· Ø®Ø§Øµ Ø­Ø°Ù Ù…ÛŒâ€ŒÚ©Ù†Ù‡.

Ø®Ø±ÙˆØ¬ÛŒ: Ø¯Ø§Ú©ÛŒÙˆÙ…Ù†Øª Ø­Ø°Ùâ€ŒØ´Ø¯Ù‡.


await Product.findOneAndDelete({ title: 'Old Product' });
âœ… 3. Ø±ÙˆØ´ Ø¯Ø§Ú©ÛŒÙˆÙ…Ù†Øªâ€ŒÙ…Ø­ÙˆØ± (Document-based Delete)
ÙˆÙ‚ØªÛŒ Ú©Ù‡ Ù‚Ø¨Ù„Ø§Ù‹ Ø¯Ø§Ú©ÛŒÙˆÙ…Ù†Øª Ø±Ùˆ Ú¯Ø±ÙØªÙ‡â€ŒØ§ÛŒ Ùˆ Ù…ÛŒâ€ŒØ®ÙˆØ§ÛŒ Ø­Ø°ÙØ´ Ú©Ù†ÛŒ

âœ” doc.remove()
ÙÙ‚Ø· Ø±ÙˆÛŒ Ø¯Ø§Ú©ÛŒÙˆÙ…Ù†Øªâ€ŒÙ‡Ø§ÛŒÛŒ Ú©Ù‡ Ù‚Ø¨Ù„Ø§Ù‹ Ø¨Ø§ find() ÛŒØ§ findById() Ú¯Ø±ÙØªÛŒ Ù‚Ø§Ø¨Ù„ Ø§Ø¬Ø±Ø§Ø³Øª.

Ù…Ù†Ø§Ø³Ø¨ ÙˆÙ‚ØªÛŒ Ù…ÛŒâ€ŒØ®ÙˆØ§ÛŒ Ù‚Ø¨Ù„ Ø§Ø² Ø­Ø°ÙØŒ Ú©Ø§Ø±Ù‡Ø§ÛŒ Ø¯ÛŒÚ¯Ù‡ Ù‡Ù… Ø§Ù†Ø¬Ø§Ù… Ø¨Ø¯ÛŒ (ÛŒØ§ middleware Ø§Ø¬Ø±Ø§ Ø¨Ø´Ù‡).


const product = await Product.findById(id);
await product.remove();
âœ… 4. Ù…ØªØ¯ Ø¬Ø¯ÛŒØ¯ØªØ±: delete() (Ø±ÙˆÛŒ Document)
Ø¯Ø± Ù†Ø³Ø®Ù‡â€ŒÙ‡Ø§ÛŒ Ø¬Ø¯ÛŒØ¯ Mongoose Ø§Ø¶Ø§ÙÙ‡ Ø´Ø¯Ù‡ØŒ Ø´Ø¨ÛŒÙ‡ remove() Ø¹Ù…Ù„ Ù…ÛŒâ€ŒÚ©Ù†Ù‡.


const product = await Product.findById(id);
await product.delete();  // ÛŒØ§ await product.deleteOne(); 
 


 Validation

ÛŒÚ©ÛŒ Ø§Ø² Ø¨ÛŒØ³ÛŒÚ© ØªØ±ÛŒÙ† ÙˆÙ„ÛŒØ¯ÛŒØ´Ù†â€ŒÙ‡Ø§ÛŒ Ø®ÙˆØ¯Ù‡ Ù…Ø§Ù†Ú¯Ùˆ Ø§ÛŒÙ†Ù‡
 name : { type : String , required : true}  ;      =============>    Ø¨Ø§ÛŒØ¯ Ø­ØªÙ…Ø§ name ÙˆØ¬ÙˆØ¯ Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´Ù‡ Ø®Ø§Ù„ÛŒ Ù†Ø¨Ø§Ø´Ù‡ 

 Ù…Ø§ Ú©Ù„Ø§Ù† Ù‡Ù… Ø§Ø² Joi Ù‡Ù… Ù…Ø§Ù„Ù‡ Ø®ÙˆØ¯Ù‡ Ù…Ø§Ù†Ú¯Ùˆ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒÚ©Ù†ÛŒÙ…

 Ùˆ Ø¯ÛŒÚ¯Ù‡ Ø§Ø² Ø§ÛŒÙ† Ø¨Ù‡ Ø¨Ø¹Ø¯ async functionÙ‡Ø§Ù…ÙˆÙ†

 Ø¨Ù‡ Ø¯Ùˆ Ø¯Ø³ØªÙ‡ ÛŒ 
 try {

 }
 catch (err ){

 }
 ØªÙ‚Ø³ÛŒÙ… Ù…ÛŒØ´Ù‡ 



  function() { return this.isPublished }    ============================> ÙˆØ§Ø¨Ø³ØªÙ‡ Ø¨ÙˆØ¯Ù† Ø¨Ù‡ ÛŒÙ‡ ÙÛŒÙ„Ø¯ Ø¯ÛŒÚ¯Ù‡ 
                                                                        ØªØ§ (isPublished === true) Ù†Ø¨Ø§Ø´Ù‡ ÙˆØ¬ÙˆØ¯ Ù†Ø¨Ø§ÛŒØ¯ Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´Ù‡



 enum: ['web', 'mobile', 'network']        =============================>   Ø§ÛŒÙ† Ù…ÛŒØ´Ù‡ ÙˆØ±ÙˆØ±Ø¯ÛŒ Ø­ØªÙ…Ø§ Ø¨Ø§ÛŒØ¯ ÛŒÚ©ÛŒ Ø§Ø² Ø§ÛŒÙ† Ø±Ø´ØªÙ‡ Ù‡Ø§ Ø¨Ø§Ø´Ù‡ Ú©Ù‡ ØªÙˆ Ø§ÛŒÙ† Ø§Ø±Ø§ÛŒÙ‡ Ù‡Ø³Øª


 Custom Validator

  tags: {
        type: Array,
        validate: {
            validator: function (v) {
                return v && v.length > 0;
            },
            message: 'A course should have at least one tag' // message: props => `Invalid tags: "${props.value}". You must provide at least one tag.` (better code)
        }
    }

    Ø§ÛŒÙ†Ø¬Ø§ Ù…Ø§ Ø®ÙˆØ¯Ù…ÙˆÙ† ÛŒÙ‡ ÙˆÙ„ÛŒØ¯ÛŒØªÙˆØ± Ø¯Ø±Ø³Øª Ù…ÛŒÚ©Ù†ÛŒÙ… 

Ù‡Ù…Ù‡ ÙˆÙ„ÛŒØ¯ÛŒØªÙˆØ± Ù‡Ø§ Ø³Ø§Ø®ØªÙ‡ Ø´Ø¯Ù† Ø§Ø² ÛŒÙ‡ ÙˆÙ„ÛŒØ¯ÛŒØªÙˆØ± Ùˆ Ù…Ø³ÛŒØ¬ Ø§ÙˆÙ† ÙˆÙ„ÛŒØ¯ÛŒØªÙˆØ± ÙˆÙ‚ØªÛŒ Ø¨Ù‡ Ø§Ø±ÙˆØ± Ù…ÛŒØ®ÙˆØ±Ù‡ 

Ù¾Ø³ Ø§ÛŒÙ†Ø¬Ø§ Ù‡Ù… Ø¯Ùˆ ØªØ§ Ù¾Ø±Ø§Ù…ØªØ± Ø¯Ø§Ø±Ù‡ 
message & validator

Ù†Ú©ØªÙ‡ Ø§ÛŒÙ†Ù‡ Ú©Ù‡ 
required : true ;
Ù†Ø¯Ø§Ø±Ù‡ Ø§ÛŒÙ†Ø¬Ø§ 
 type: Array 
 Ø§ÛŒÙ† Ù‡Ù…ÙˆÙ† Ú©Ø§Ø±Ùˆ Ù…ÛŒÚ©Ù†Ù‡ ÙˆÙ‚ØªÛŒ Ø§Ø±Ø§ÛŒÙ‡ Ø§ÛŒ ÙˆØ¬ÙˆØ¯ Ù†Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´Ù‡ ÛŒØ§ null Ø¨Ø§Ø´Ù‡




 Async Valodators

Ø§ÙˆÙ„Ø§ Ú©Ù‡ ÙÙ‚Ø· ØªÙˆÛŒ custom validator Ù‡Ø§ Ù‡Ø³Øª
Ú†ÙˆÙ† built in Ù‡Ø§ Ø®ÙˆØ¯Ø´ÙˆÙ† Ø¯Ø§Ø±Ù† 

 tags: {
        type: Array,
        validate: {
            validator: async function (v) {
                await new Promise(resolve => setTimeout(resolve, 3000));
                return v && v.length > 0;
            },
            message: 'A course should have at least one tag'
        }
    },

    Ù…Ø«Ù„Ù‡ Ø§ÛŒÙ† Ú©Ù‡ Ù‚Ø¨Ù„Ø§ Ø¨Ø§ callback Ù‡Ù… Ú©Ø§Ø± Ù…ÛŒÚ©Ø±Ø¯Ù‡ 
    ÙˆÙ„ÛŒ Ø§Ù„Ø§Ù† Ø¨Ø§ Promise & async await 


Validation Errors 

ÙˆÙ‚ØªÛŒ Ú†Ù†Ø¯ÛŒØ¯ Ø§Ø±ÙˆØ± Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´ÛŒÙ… Ø¨Ø§ ÛŒÙ‡ 
catch Ø³Ø§Ø¯Ù‡ Ú©Ø§Ø± Ø¬Ù…Ø¹ Ù†Ù…ÛŒâ€ŒØ´Ù‡

Ø¨Ø§ÛŒØ¯ ÛŒÙ‡ Ø³Ø§Ø­ØªØ§Ø± Ø®ÙˆØ¨ Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´ÛŒÙ… 

  catch (err) {
    for (let field in err.errors) {
        console.log(err.errors[field].message);
    }
}

Ø¨Ø§ Ø§ÛŒÙ† Ù‡Ù…Ù‡ Ø§Ø±ÙˆØ± Ù‡Ø§ Ù…Ø¹Ù„ÙˆÙ… Ù…ÛŒØ´Ù‡ ÛŒØ§ Ù‡Ø± Ú©Ø¯ÙˆÙ… Ø¨Ø§ Ø§Ø³Ú©ÛŒÙ…Ø§ Ù…Ø´Ø§Ø¨Ù‡ Ù†Ø¨Ø§Ø´Ù‡





More Schema validation option


get: v => Math.round(v)           ==============> Ù‡Ø± Ø¹Ø¯Ø¯ÛŒ Ø±Ùˆ Ø¨Ú¯ÛŒØ±Ù‡ Ø§Ø² Ø¯ÛŒØªØ§ Ø¨ÛŒØ³ Ø§ÙˆÙ†Ùˆ Ú¯Ø±Ø¯ Ù…ÛŒÚ©Ù†Ù‡ Ø±Ùˆ Ø¨Ù‡ Ø¨Ø§Ù„Ø§

set: v => Math.round(v)           ==============>  Ù‡Ø± Ø¹Ø¯Ø¯ÛŒ Ø±Ùˆ Ø¨Ú¯ÛŒØ±Ù‡ Ø§Ø² Ø¯ÛŒØªØ§ Ø¨ÛŒØ³ Ø§ÙˆÙ†Ùˆ Ú¯Ø±Ø¯ Ù…ÛŒÚ©Ù†Ù‡ Ø±Ùˆ Ø¨Ù‡ Ù¾Ø§ÛŒÛŒÙ†

trim: true                        ==============>  Ø¨Ø§ Ø§Ø³Ù¾ÛŒØ³ Ù‡Ø§ÛŒ Ú†Ù¾ Ø±Ø§Ø³Øª Ø±Ø´ØªÙ‡ Ú©Ø§Ø± Ø¯Ø§Ø±Ù‡ Ø§ÙˆÙ†Ø§Ø±Ùˆ Ø­Ø°Ù Ù…ÛŒÚ©Ù†Ù‡ Ø¨Ø¹Ø¯ Ø®Ø±ÙˆØ¬ÛŒ Ù…ÛŒØ¯Ù‡

lowercase: true                   ==============> Ø§ÛŒÙ†Ø§Ø±Ù… Ú©Ù‡ Ù‡ÛŒÚ†ÛŒ

uppercase: true                   ==============> Ø§ÛŒÙ†Ø§Ø±Ù… Ú©Ù‡ Ù‡ÛŒÚ†ÛŒ